#ä»Žé›¶å¼€å§‹å­¦ä¹  jaqk å‘½ä»¤è¡Œ

# ä¸€ã€èƒŒæ™¯

>  ä¸€åˆ‡ç¼–ç¨‹è¯­è¨€éƒ½ç¦»ä¸å¼€æ•°æ®ç»“æž„+ç®—æ³•ï¼Œè€Œå®ƒä»¬æœ¬è´¨ä¸Šéƒ½æ˜¯æ–‡ä»¶ã€‚

ç„¶è€Œå¯¹äºŽä½¿ç”¨è€…æ¥è¯´ï¼Œè°ƒç”¨è®¡ç®—æœºçš„ä¸€äº›åŠŸèƒ½è¾…åŠ©è‡ªå·±å·¥ä½œè¿™ä»¶äº‹æœ¬ä¸éœ€è¦ç¼–ç¨‹é—¨æ§›ï¼Œæ‰€ä»¥ä¸è®ºæ˜¯ä¹”å¸ƒæ–¯è¿˜æ˜¯æ¯”å°”ç›–èŒ¨è¿™äº›å…ˆé©±è€…éƒ½ä¸çº¦è€ŒåŒåœ°å°†è®¡ç®—æœºè¿›è¡Œäº†ç•Œé¢åŒ–é©å‘½ã€‚

å¯ä»¥è¯´ GUI è½¯ä»¶ç»™æˆ‘ä»¬å¸¦æ¥äº†ä¾¿åˆ©ä¹ŸåŒæ—¶å¸¦æ¥äº†å›°æ‰°ï¼Œ80%çš„è½¯ä»¶é—®é¢˜æ¥æºäºŽ GUI ç•Œé¢æœ¬èº«ï¼Œå› æ­¤æˆ‘ä»¬æ‘’å¼ƒ GUI æ“ä½œä¾ç„¶é‡‡ç”¨æœ€åŽŸå§‹ä½†æ˜¯æœ€é«˜æ•ˆçš„ CLI å‘½ä»¤è¡Œç•Œé¢ï¼Œä¸åŒçš„æ˜¯ æˆ‘ä»¬æŠŠ CLI è¯­ä¹‰åŒ–ã€‚

å¦‚æžœè¯´è¯­è¨€ç”±è¯­ç´ å’Œç»“æž„æž„æˆï¼Œé‚£ä¹ˆ jaqk å‘½ä»¤è¡Œå°±æ˜¯ä¸€ç§ è„šæœ¬+å˜é‡ çš„æž„æˆæ¨¡å¼ï¼Œä¸è®ºæ˜¯è„šæœ¬è¿˜æ˜¯å˜é‡éƒ½é¦–å…ˆæ˜¯æ–‡ä»¶ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ jaqk å‘½ä»¤è¡Œè¯†åˆ«ï¼Œä¹ŸåŒæ—¶æ–¹ä¾¿ç¼–è¾‘å™¨è¯†åˆ«ç‰¹å®šæ–‡ä»¶ï¼Œæˆ‘ä»¬æŠŠ è„šæœ¬æ–‡ä»¶çš„åŽç¼€ç»Ÿä¸€æˆ `.js` ï¼ŒæŠŠ å˜é‡æ–‡ä»¶çš„åŽç¼€ç»Ÿä¸€æˆ`.var` ï¼Œè¿™æ ·åœ¨è¯­ä¹‰å±‚é¢è¾¾åˆ°ç»Ÿä¸€ã€‚

> è¯•é—®ï¼š.js.var æ–‡ä»¶æ˜¯ä»€ä¹ˆè¯­ä¹‰å‘¢ï¼Ÿé‚£ .var.js å‘¢ï¼Ÿ

# äºŒã€æ–‡ä»¶åŽç¼€é“¾

## 1ã€åŽç¼€ `.js`

è„šæœ¬ï¼Œè¢« `exec` å‘½ä»¤æ£€ç´¢

## 2ã€åŽç¼€ `.jaqk`

éœ€è¦ `jaqk` é¢„å¤„ç†çš„æ–‡ä»¶ï¼Œä¾‹å¦‚åŠ å¯†æ–‡ä»¶

è¢« `exec` å’Œ `var` å‘½ä»¤æ£€ç´¢

## 3ã€ ä¸­ç¼€ `.debug`

ç”¨äºŽè°ƒè¯•çš„è„šæœ¬æ–‡ä»¶ï¼Œå¼€å‘é˜¶æ®µä½¿ç”¨ï¼Œæ–‡ä»¶ç»“å°¾å¤„ä¼šå¸¦æœ‰å¦‚ä¸‹è¯­å¥:

```
module.exports = ...
```

è¢« `exec` å‘½ä»¤æ£€ç´¢ã€‚

## 4ã€ä¸­ç¼€ `.lib`

å¯ä»¥ä½œä¸ºåº“æ–‡ä»¶è¢«å…¶ä»– è„šæœ¬ å¼•ç”¨ã€‚

## 5ã€åŽç¼€ `.var`

è¢«çœ‹ä½œæ˜¯å˜é‡çš„æ–‡ä»¶

è¢« `var` å‘½ä»¤æ£€ç´¢ã€‚

## 6ã€ä¸­ç¼€ `.json`

å°†ä»¥ json æ ¼å¼è§£æžä¸º `js object` çš„å˜é‡

è¢« `var` å‘½ä»¤æ£€ç´¢ã€‚

## 7ã€ä¸­ç¼€ `.txtline`

å°†ä»¥çº¯æ–‡æœ¬æŒ‰è¡Œçš„å½¢å¼è§£æžæˆ `string array` çš„å˜é‡

è¢« `var` å‘½ä»¤æ£€ç´¢ã€‚

## 8ã€ä¸­ç¼€ `.config`

å°†ä»¥çº¯æ–‡æœ¬æ¯è¡Œ **`key=value`**  å½¢å¼è§£æžæˆ `js object` çš„å˜é‡ï¼Œå…¶ä¸­ key åŒåçš„ value å€¼è¢«å½’çº³ä¸º key åçš„æ•°ç»„ã€‚

è¢« `config` è„šæœ¬ä»¥ `.txtline` çš„æ–¹å¼æ£€ç´¢

å³å°† ç›´æŽ¥è¢« `var` å‘½ä»¤æ£€ç´¢ã€‚

# ä¸‰ã€æŒ‡å®šè„šæœ¬æ¥æº

è™½ç„¶è„šæœ¬éƒ½æ˜¯æ–‡ä»¶ï¼Œä½†æ˜¯ jaqk å‘½ä»¤è¡Œæ ¹æ®è„šæœ¬åç§°ç»“æž„è¯†åˆ«è„šæœ¬æ¥æºï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸‰å¤„æ¥æºï¼š

- jaqk å‘½ä»¤è¡Œè‡ªå¸¦è„šæœ¬ï¼Œç›´æŽ¥ä½¿ç”¨ **`è„šæœ¬å`** è®¿é—®ï¼Œå–å†³äºŽå®˜æ–¹æ˜¯å¦è®¤ä¸ºæ˜¯é€šç”¨éœ€æ±‚ä»Žè€ŒåŠ å…¥è¯¥æ¥æºï¼ŒåŒæ—¶æœ‰è¾ƒé«˜é‡åé£Žé™©ã€‚

- ç¬¬ä¸‰æ–¹åº“è„šæœ¬ï¼Œä½¿ç”¨ **`@åº“å/è·¯å¾„/è„šæœ¬å`** æ–¹å¼è®¿é—®ï¼Œå¯ä»¥æŒ‰ç…§è‡ªå·±çš„ä¸šåŠ¡æ¨¡å¼è¿›è¡Œç»„ç»‡ï¼Œåªè¦å®Œæ•´è·¯å¾„ä¸é‡åï¼Œè„šæœ¬åå¯ä»¥é‡åã€‚
- æœ¬åœ°è„šæœ¬ï¼Œä½¿ç”¨ **`å®Œæ•´è·¯å¾„/è„šæœ¬å`** æ–¹å¼è®¿é—®ï¼Œä¸å¤ªçµæ´»ï¼Œä½†æ˜¯æ— é‡åé£Žé™©ï¼Œä»…ç”¨äºŽä¸€èˆ¬æ€§æµ‹è¯•ï¼Œä¸€èˆ¬ä¸ä¼šæ”¶å½•ã€‚

> æ³¨æ„âš ï¸ï¼šè„šæœ¬åä¸æ˜¯æ–‡ä»¶åï¼Œéœ€è¦åŽ»æŽ‰æ–‡ä»¶åä¸­çš„ä¸­ç¼€å’ŒåŽç¼€ï¼Œjaqk å‘½ä»¤è¡Œåªå…³å¿ƒè„šæœ¬åç§°ï¼Œä½†æ˜¯å˜é‡åç§°éœ€è¦æºå¸¦å®Œæ•´ä¸­ç¼€ã€‚

# å››ã€ä»¥ä¸åŒæ–¹å¼è¾“å‡ºå¹¶æ‰“å°å˜é‡

## 2.1 var å‘½ä»¤æ‰“å°åŽŸå§‹å˜é‡

> \> jaqk var test.txtline

```
zhuofanerdeMacBook-Pro:~ zhuofaner$ jaqk var test.txtline
[
  [
    '# å‡çš„ å“ˆå“ˆå“ˆ',
    'æˆ‘æ˜¯ç¨‹åºå‘˜',
    '',
    '# çœŸçš„ å“ˆå“ˆå“ˆðŸ˜‚',
    'æˆ‘ä»Šå¤©å¾ˆå¼€å¿ƒ',
    '',
    '  #æ‰æŽ¥è§¦1ä¸ªå°æ—¶',
    'è¿™æ˜¯ç¬¬ä¸€å¤©å¼€å‘',
    '',
    '    # è£…é€¼å˜› éƒ½æ‡‚å¾—',
    'å¯ä»¥å‘ä¸ªæœ‹å‹åœˆ'
  ]
]
```

var å‘½ä»¤ä¼šé¦–å…ˆæŠŠæ‰€æœ‰å˜é‡ä»¥æ•°ç»„æ–¹å¼æ‰“å°ï¼Œå…¶æ¬¡è¿™é‡Œåªæœ‰ä¸€ä¸ªå˜é‡ `test.txtline` æ ¹æ®åŽç¼€(txtlineåŒæ—¶æ˜¯å˜é‡åŽç¼€ä¹Ÿæ˜¯æ–‡ä»¶ä¸­ç¼€)å­—ç¬¦ä¸²æ•°ç»„æ–¹å¼å‘ˆçŽ°ã€‚

æ•°æ®æµç¨‹å›¾ï¼š

```mermaid
graph LR
	start[å‘½ä»¤è¡Œ jaqk] --> var --> output[è¾“å‡º]
	input((å˜é‡)) --> var
```
![](./pic/cookbook_1.png)



## 2.2 log è„šæœ¬è¾“å‡ºç¾ŽåŒ–åŽçš„å˜é‡

> \> jaqk exec log test.txtline

```
zhuofanerdeMacBook-Pro:~ zhuofaner$ jaqk exec log test.txtline
SIMPLELOG >>>
# å‡çš„ å“ˆå“ˆå“ˆ
æˆ‘æ˜¯ç¨‹åºå‘˜

# çœŸçš„ å“ˆå“ˆå“ˆðŸ˜‚
æˆ‘ä»Šå¤©å¾ˆå¼€å¿ƒ

  #æ‰æŽ¥è§¦1ä¸ªå°æ—¶
è¿™æ˜¯ç¬¬ä¸€å¤©å¼€å‘

    # è£…é€¼å˜› éƒ½æ‡‚å¾—
å¯ä»¥å‘ä¸ªæœ‹å‹åœˆ
```

log è„šæœ¬æŠŠ `test.txtline` å˜é‡ä»¥å­—ç¬¦ä¸²æŒ‰è¡Œçš„æ–¹å¼åŽŸå§‹æ‰“å°äº†å‡ºæ¥ï¼ŒåŒæ—¶æ·»åŠ é»˜è®¤æ‰“å°æ ·å¼å¤´ SIMPLELOG >>>

æ•°æ®æµç¨‹å›¾ï¼š

```mermaid
graph LR
	start[å‘½ä»¤è¡Œ jaqk] --> exec --> log --> output[è¾“å‡º]
	input((å˜é‡)) --> log
	
```
![](./pic/cookbook_2.png)

## 2.3 txtline è„šæœ¬è¿‡æ»¤æ³¨é‡Šå’Œç©ºè¡Œ;åªè¾“å‡ºæœ‰ç”¨æ•°æ®

> \> jaqk exec @jaqk-util/script/txtline test.txtline ] log

```
zhuofanerdeMacBook-Pro:~ zhuofaner$ jaqk exec @jaqk-util/script/txtline test.txtline ] log
SIMPLELOG >>>
æˆ‘æ˜¯ç¨‹åºå‘˜
æˆ‘ä»Šå¤©å¾ˆå¼€å¿ƒ
è¿™æ˜¯ç¬¬ä¸€å¤©å¼€å‘
å¯ä»¥å‘ä¸ªæœ‹å‹åœˆ
```

æ•°æ®æµç¨‹å›¾ï¼š

```mermaid
graph LR
	start[å‘½ä»¤è¡Œ jaqk] --> exec --> middle[æœ¯è¯­åº“ txtline] --> log --> output[è¾“å‡º]
	input((å˜é‡)) --> middle
```
![](./pic/cookbook_3.png)



